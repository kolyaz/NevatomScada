"use strict";(self["webpackChunknevatomscada"]=self["webpackChunknevatomscada"]||[]).push([[795],{2260:(e,t,s)=>{s.d(t,{L:()=>l});const l=e=>{try{if(e)return JSON.parse(e)}catch(t){return!1}return!1}},4606:(e,t,s)=>{s.d(t,{Z:()=>p});var l=s(3673),o=s(2323);const a={class:"AlarmText marquee"},n={id:"alarmText"};function i(e,t,s,i,r,d){return(0,l.wg)(),(0,l.iD)("div",a,[(0,l._)("span",n,(0,o.zw)(e.text),1)])}const r=(0,l.aZ)({name:"AlarmText",data(){return{text:""}},props:{alarms:String},mounted(){this.text=this.alarms},watch:{alarms(){this.text=this.alarms}}});var d=s(3414),m=s(7518),u=s.n(m);r.render=i;const p=r;u()(r,"components",{QItem:d.Z})},5795:(e,t,s)=>{s.r(t),s.d(t,{default:()=>P});var l=s(3673);const o={class:"q-pa-md",style:{"max-width":"330px"}},a={class:"q-gutter-md",style:{"min-width":"330px"}},n={style:{"margin-top":"40px"},class:" q-gutter-md"},i={style:{"margin-top":"40px"},class:" q-gutter-md"};function r(e,t,s,r,d,m){const u=(0,l.up)("q-icon"),p=(0,l.up)("q-input"),c=(0,l.up)("q-btn"),g=(0,l.up)("AlarmText"),h=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(h,{class:"some"},{default:(0,l.w5)((()=>[(0,l._)("div",o,[(0,l._)("div",a,[(0,l.Wm)(p,{color:"teal",filled:"",modelValue:e.loginSTA,"onUpdate:modelValue":t[0]||(t[0]=t=>e.loginSTA=t),label:"Имя роутера ",hint:"введите имя роутера ","lazy-rules":"",rules:[e=>e&&e.length>0||"введите  имя роутера"]},{prepend:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"router",color:"orange"})])),_:1},8,["modelValue","rules"]),(0,l.Wm)(p,{color:"teal",modelValue:e.passwordSTA,"onUpdate:modelValue":t[2]||(t[2]=t=>e.passwordSTA=t),label:"Пароль",filled:"",type:e.isPwdS?"password":"text",hint:"введите  пароль","lazy-rules":"",rules:[e=>e&&e.length>0||"введите  пароль"]},{prepend:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"wifi_lock",color:"orange"})])),append:(0,l.w5)((()=>[(0,l.Wm)(u,{name:e.isPwdS?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=t=>e.isPwdS=!e.isPwdS)},null,8,["name"])])),_:1},8,["modelValue","type","rules"]),(0,l.Wm)(p,{color:"teal",filled:"",modelValue:e.loginAP,"onUpdate:modelValue":t[3]||(t[3]=t=>e.loginAP=t),label:"Имя точки доступа",hint:"введите новое имя точки доступа","lazy-rules":"",rules:[e=>e&&e.length>0||"введите имя точки доступа"]},{prepend:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"cell_wifi",color:"green"})])),_:1},8,["modelValue","rules"]),(0,l.Wm)(p,{color:"teal",modelValue:e.passwordAP,"onUpdate:modelValue":t[5]||(t[5]=t=>e.passwordAP=t),label:"Пароль точки доступа",filled:"",type:e.isPwdA?"password":"text",hint:"введите  пароль","lazy-rules":"",rules:[e=>e&&e.length>0||"введите  пароль"]},{prepend:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"lock",color:"green"})])),append:(0,l.w5)((()=>[(0,l.Wm)(u,{name:e.isPwdA?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[4]||(t[4]=t=>e.isPwdA=!e.isPwdA)},null,8,["name"])])),_:1},8,["modelValue","type","rules"]),(0,l.Wm)(p,{color:"teal",filled:"",modelValue:e.loginNet,"onUpdate:modelValue":t[6]||(t[6]=t=>e.loginNet=t),label:"Имя удаленного доступа",hint:"введите имя удаленного доступа","lazy-rules":"",rules:[e=>e&&e.length>0||"введите имя удаленного доступа"]},{prepend:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"how_to_reg",color:"deep-orange"})])),_:1},8,["modelValue","rules"]),(0,l.Wm)(p,{color:"teal",modelValue:e.passwordNet,"onUpdate:modelValue":t[8]||(t[8]=t=>e.passwordNet=t),label:"Пароль удаленного доступа",filled:"",type:e.isPwd?"password":"text",hint:"введите  пароль","lazy-rules":"",rules:[e=>e&&e.length>0||"введите  пароль"]},{prepend:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"vpn_lock",color:"deep-orange"})])),append:(0,l.w5)((()=>[(0,l.Wm)(u,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[7]||(t[7]=t=>e.isPwd=!e.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type","rules"])]),(0,l._)("div",n,[(0,l._)("div",null,[(0,l.Wm)(c,{onClick:e.SetNetSettings,style:{"min-width":"330px"},color:"secondary",icon:"done",label:"Применить"},null,8,["onClick"])])]),(0,l._)("div",i,[(0,l._)("div",null,[(0,l.Wm)(c,{onClick:e.GetModbusPage,class:"text-black",style:{"min-width":"330px"},color:"warning",icon:"hub",label:"Настройки Modbus"},null,8,["onClick"])])])]),(0,l._)("div",null,[(0,l.Wm)(g,{alarms:e.alarms},null,8,["alarms"])])])),_:1})}var d=s(1959),m=s(2260),u=s(8825),p=s(4606);const c=(0,l.aZ)({name:"PageNetSettings",components:{AlarmText:p.Z},data(){return{loginSTA:"",passwordSTA:"",loginAP:"",passwordAP:"",loginNet:"",passwordNet:"",isLoad:!1,alarms:"",modbusLink:"/modbus_settings",q:(0,u.Z)()}},methods:{OnMount(){const e={getNetSettings:1,Message:"getNetSettings"};this.$socket.send(JSON.stringify(e))},IfName(e){return e||(console.log(e),"")},WebSockets(e){try{return e&&(this.$socket.onmessage=e=>{const t=(0,m.L)(e.data);t.Message&&this.q.notify({message:t.Message,color:"secondary",position:"bottom"}),t.NetSettings&&(this.loginSTA=this.IfName(t.NetSettings.loginSTA),this.passwordSTA=this.IfName(t.NetSettings.passwordSTA),this.loginAP=this.IfName(t.NetSettings.loginAP),this.passwordAP=this.IfName(t.NetSettings.passwordAP),this.loginNet=this.IfName(t.NetSettings.loginNet),this.passwordNet=this.IfName(t.NetSettings.passwordNet)),t.PLCdata.alarms&&(this.$global.$emit("PLCdata",t.PLCdata),this.alarms=t.PLCdata.alarms)}),""}catch(t){return""}},SetNetSettings(){this.q.dialog({title:"Сетевые настройки",message:"Изменить сетевые настройки ???",cancel:{push:!1,label:"Выход"},ok:{push:!1,label:"Да"}}).onOk((()=>{const e={setNetSettings:{loginSTA:this.loginSTA,passwordSTA:this.passwordSTA,loginAP:this.loginAP,passwordAP:this.passwordAP,loginNet:this.loginNet,passwordNet:this.passwordNet},Message:"setNetSettings"};this.$socket.send(JSON.stringify(e))})).onCancel((()=>{}))},GetModbusPage(){this.q.dialog({title:"Настройки Modbus",message:"Введите пароль администратора",prompt:{model:"",type:"text",isValid:e=>e.length>1},cancel:{push:!1,label:"Выход"},ok:{push:!1,label:"Войти"}}).onOk((e=>{if("312"===e)return console.log("access assepted"),void this.$router.push("modbus_settings");this.q.notify({message:"Не верный пароль!",color:"negative",position:"bottom"}),console.log("access denied")})).onCancel((()=>{})).onDismiss((()=>{}))}},mounted(){this.OnMount(),this.mount=!0,this.WebSockets(this.mount)},setup(){return{isPwd:(0,d.iH)(!0),isPwdS:(0,d.iH)(!0),isPwdA:(0,d.iH)(!0)}}});var g=s(4379),h=s(4842),w=s(4554),S=s(8240),N=s(7518),A=s.n(N);c.render=r;const P=c;A()(c,"components",{QPage:g.Z,QInput:h.Z,QIcon:w.Z,QBtn:S.Z})}}]);